###### <center> 金渡教育VIP内部资料，请勿外传，违者必究。
###### <center>主讲老师：金渡教育Casey
---
#### Hook简介
1、为什么会出现Hook?
在我们之前的学习中我们知道,class组件可以定义自己的state,用来保存组件自己内部的状态,function组件是没有状态的,因为函数式组件的变量他是局部的,每次调用都会开辟新的空间和新的变量,函数运行完毕以后,变量会被回收。
class组件有生命周期,我们可以在对应的生命周期中完成自己的逻辑,class组件在状态改变的时候会重新去执行render方法。而函数式组件在重新渲染的时候,会全部执行,又没有办法去调用componentDidUpdate,并且没有自己的状态。
class组件对于es6基础不好的同学是比较欺手的,比较难以理解和学习,而且类组件实现复用其实很麻烦。
2、什么是Hook
Hook是React16.8的新增特性。它可以让你在不编写class组件的情况下使用state以及其他的React特性(生命周期方法)。
Hook的出现,是开创性的,它解决了之前React存在的很多问题,比如说HOC的嵌套问题。
3、Hook的使用场景

1. Hook的出现,基本可以替代我们之前所使用的class组件的地方
2. 在旧的项目中,不需要直接重构为Hook
3. Hook只能在函数组件中使用,不能在类组件,或者函数组件之外的地方使用

4、Hook的使用原则
1. 不要在循环里面、条件判断或者分支里面去使用Hook,只能在函数的最外层调用
2. 只能在react函数组件中使用hook
3. 单独在一个useState我们称之为hook,Hooks是对一类Hook的总称。
Hook它是JS的函数,这个函数可以帮你钩入react的state以及生命周期方法。

##### useState&useEffect
1. useState
hook:让函数式组件具备类组件的一些特性,比如状态和生命周期
2. useEffect
函数式组件中是没有生命周期的,就可以使用useEffect来替代。我们可以把useEffect看作组件加载、组件更新、组件卸载的三个生命周期方法的组合。
副作用：函数副作用,当调用函数的时候,除了返回值以外,还对调用函数产生附件的影响。
```js
[1, 2, 3].pop() // 每次执行pop函数的时候,原数组都会减少一个元素,改变了原数组其实就是一种副作用
```
React中,更改组件中的DOM都属于副作用,有些副作用需要去清除,需要返回一个函数,比如挂载时设置的定时器,卸载的时候取消定时器。
3. useRef
用法跟createRef类似,都是存储DOM元素对象的
4. useReducer
在hooks中,可以为函数式组件提供类似Redux的功能,类似于vuex都是提供状态管理的。官方提供的两种state管理：useState,useReducer。
